

{% load static %}

<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="description" content="A front-end template that helps you build fast, modern mobile web apps.">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
        <title>Material Design Lite</title>

         <link type="text/css" rel="stylesheet"  href= "{% static 'materialize/css/styles.css' %}"  media="screen,projection"/>
        <link type="text/css" rel="stylesheet"  href= "{% static 'materialize/css/perso.css' %}"  media="screen,projection"/>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"> </script>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
         <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
        <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
        <link rel="stylesheet" href="https://unpkg.com/bootstrap-material-design@4.1.1/dist/css/bootstrap-material-design.min.css" integrity="sha384-wXznGJNEXNG1NFsbm0ugrLFMQPWswR3lds2VeinahP8N0zJw9VWSopbjv2x7WCvX" crossorigin="anonymous">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">


        <style>
            #view-source {
                position: fixed;
                display: block;
                right: 0;
                bottom: 0;
                margin-right: 40px;
                margin-bottom: 40px;
                z-index: 900;
            }
            }
            #colorsd.colorss{color:black;}
            a.colorss {
                    color: black;
                    }
             label#searchs {
        top: 30px;
    }
a.mdl-navigation__link,a.surligeur {
    text-decoration: none;
}
    /*span.mdl-layout-title {
    display: block;
    color: #757575 !important;
    margin-left: 235px;
}*/
ul#dropcenter{
    width: 100%;
}
.recha{color:white;font-size:10px;}
#centrer{text-align:-webkit-center;}
.separe{
    }
    #taille,#taille2,#taille3{

    }
    #solde{text-align:right;}

}
div#abonnees {
    width: 50%;
}
#droping,#table th,#table td{font-family: 'Roboto', 'Helvetica', sans-serif;}
td.centrer,th.centrer{text-align:center;}

.mdl-layout__drawer-button {
    padding: 10px;
}
.mdl-card__actions.mdl-card--border {
    border-top: 1px solid rgba(0,0,0,.1);
    padding: 1px;
    font-size:10px;
    margin: 1px;

}

a.mdl-navigation__link.active1 {
    background: black;
}

li.strongs.list-group-item.justify-content-between {
    font-weight: 900;
    font-size: larger;
}
div#abonnees,div#abonnees2 {
    width: 50%;
}
#foot{background:none;}
div#foot2,div#foot3 {
    background: none;
}
#bodal p,#form2 p,#form3 p{padding: 2rem;}
label#modepayment {
    margin-left: 25px;
}
p#modpays,p#monpay2 {
    padding-top: 30px;
}
div#modpay {
    padding: 12px;
}
div#collapseOne {
    padding-left: 30px;
}
.input-field.col.s12 {
    padding: 30px;
}
</style>
</head>

{% block content %}
<body  id="corps">
    <div class="demo-layout mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header">
        <header class="demo-header mdl-layout__header mdl-color--grey-100 mdl-color-text--grey-600">
            <div class="mdl-layout__header-row">
                <span class="mdl-layout-title">Cour: <a href="{% url 'cour'  %}">{{ nom }}</a></span>
                <div class="mdl-layout-spacer"></div>
                <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable">
                    <label id="searchs" class="mdl-button mdl-js-button mdl-button--icon" for="search">
                        <i class="material-icons">search</i>
                    </label>
                    <div class="mdl-textfield__expandable-holder">
                        <input class="mdl-textfield__input" type="text" id="search">
                        <label class="mdl-textfield__label"  for="search">Enter your query...</label>
                    </div>
                </div>
                <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" id="hdrbtn">
                    <i class="material-icons">more_vert</i>
                </button>
                <ul class="mdl-menu mdl-js-menu mdl-js-ripple-effect mdl-menu--bottom-right" for="hdrbtn">
                    <li class="mdl-menu__item">Qui sommes-nous ?</li>
                    <li class="mdl-menu__item">Faq</li>
                    <li class="mdl-menu__item">Contacf</li>
                </ul>
            </div>
        </header>


        <div class="demo-drawer mdl-layout__drawer mdl-color--blue-grey-900 mdl-color-text--blue-grey-50">
            <header class="demo-drawer-header">
                <img src='{{ img }}' alt="img"  width="100" class="demo-avatar">
                <div class="demo-avatar-dropdown" id="droping">
                    <span>{{ email }}</span>
                    <div class="mdl-layout-spacer"></div>
                    <button id="accbtn" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
                        <i class="material-icons" role="presentation">arrow_drop_down</i>
                        <span class="visuallyhidden">Accounts</span>
                    </button>
                    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect " id="dropcenter" for="accbtn">
                        <li class="mdl-menu__item" ><a class="surligeur" href="{% url 'view_profile' %}">Mon profile</a></li>
                        <li class="mdl-menu__item"><a class="surligeur" href="/oorax/logout">Deconnexion</a></li>

                    </ul>
                </div>
            </header>

            <nav class="demo-navigation mdl-navigation  mdl-color--blue-grey-800" id="slide-out" >
                <a class="mdl-navigation__link" href="{% url 'index' %}"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">home</i>Accueil</a>
                <a class="mdl-navigation__link" href="{% url 'user_mes_cours' %}"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">inbox</i>Mes cours</a>
                <a class="mdl-navigation__link" href="{% url 'mes_cours' %}"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">report</i>Cours publiés</a>

                <a class="mdl-navigation__link" href="{% url 'historique' %} "><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">local_offer</i>Credits</a>


            </nav>
        </div>

        <main class="mdl-layout__content mdl-color--grey-100">
            <div class="mdl-grid demo-content">
                <div class="demo-charts mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-grid" id="centrer">

                      <div class="mdl-cell mdl-cell--4-col">
                          <ul class="list-group">

                            <a  class="btn btn-primary btn-lg active separe" onclick="modales(this)"  role="button" aria-pressed="true"id="taille">
                                Ajouter un chapitre
                            </a>
                          </ul>

                      </div>
                      <div class="mdl-cell mdl-cell--4-col">
                          <ul class="list-group" >

                            <a class="btn btn-secondary btn-lg active separe" onclick="modaless(this)" role="button" aria-pressed="true" id="taille2">
                                Ajouter une lesson
                            </a>
                          </ul>


                      </div>
                      <div class="mdl-cell mdl-cell--4-col">
                          <ul class="list-group">

                            <a href=" {% url 'question' id=a %}" class="btn btn-success btn-lg active separe" role="button" aria-pressed="true" id="taille3">
                                Ajouter question
                            </a>
                          </ul>


                      </div>

                </div>

                <div class="mdl-cell mdl-color--white mdl-cell--12-col ">
                    <div class="table-responsive">
                    <div id="accordion">
                         {% for c in chapitre %}
                             {% if c.id in chap_liste %}
                                  <div class="card">
                                    <div class="card-header" id="headingOne">
                                      <h5 class="mb-0">
                                        <button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                            <strong>Chapitre {{ c.id }} :  {{ c.nom_chapitre }}</strong>
                                        </button>
                                      </h5>
                                    </div>
                                    {% for less in lesson %}
                                    {% if less.chapitreid_id is c.id %}
                                    <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
                                      <div class="card-body">
                                        lesson {{ less.id }} :  {{ less.nom_lesson }}
                                          <small class="btn btn-primary"><a href="{% url 'contenu_lesson' less.id %}">Ajouter Contenu</a></small>
                                      </div>
                                    </div>
                                       {% endif %}
                                  {% endfor %}


                                  </div>

                             {% endif %}
                         {% endfor %}
                    </div>




                    </div>
                </div>

            </div>

        </main>

    </div>
      <div id="id01" class="w3-modal">
        <div class="w3-modal-content w3-card-4" id="abonnees">
          <header class="w3-container w3-teal">
            <span onclick="document.getElementById('id01').style.display='none'"
            class="w3-button w3-display-topright">&times;</span>
            <h2>Ajouter Chapitre</h2>
          </header>
          <div class="w3-container">
           <form method="post" action="" id="form2">
            {% csrf_token %}
            {{ form.as_p }}
                  <div class="modal-footer" id="foot2">
                      <button type="button"  onclick="document.getElementById('id01').style.display='none'" class=" btn btn-raised btn-danger close1">Annuler</button>
                        <button type="submit" class="btn btn-raised btn-success">Enregistrer</button>

                  </div>
              </form>
          </div>

        </div>
      </div>
      <div id="id02" class="w3-modal">
        <div class="w3-modal-content w3-card-4" id="abonnees2">
          <header class="w3-container w3-teal">
            <span onclick="document.getElementById('id02').style.display='none'"
            class="w3-button w3-display-topright">&times;</span>
            <h2>Créer lesson</h2>
          </header>
          <div class="w3-container">

              <div class="input-field col s12">
                  <p>
                      <label>Coisir chapitre : </label>
                <select id="selchap">
                  <option value="" disabled selected>Choose your option</option>
                  {% for b in chapitre %}
                  <option value="{{ b.id }}">{{ b.nom_chapitre }}</option>
                  {% endfor %}
                </select>
                  </p>

            </div>

           <form method="post" action="{% url 'lesson_chapitre' %}" id="form3">
            {% csrf_token %}
                {{ formless.as_p }}
                  <div class="modal-footer" id="foot3">
                      <button type="button"  onclick="document.getElementById('id02').style.display='none'" class=" btn btn-raised btn-danger close1">Annuler</button>
                        <button type="submit" class="btn btn-raised btn-success">Enregistrer</button>
                    <input name="less" type="hidden"  id="less" readonly />
                  </div>
              </form>
          </div>

        </div>
      </div>


    <script>
       modal= document.getElementById('id02');

    function modales(that){
        document.getElementById('id01').style.display='block';
    }
     function modaless(that){
        document.getElementById('id02').style.display='block';
    }


/* debut enregistrement lesson */


//recup id chapitre
   $(document).ready(function(){
    $("#selchap").change(function(){
        $a = $("#selchap").val();
        $("input[id=less]").val($a);
});
})
$(document).on('submit','#formulaire',function(e){
/*e.preventDefault();*/
      $.ajax({
        type:'POST',
        url:'{% url 'lesson_chapitre' %}',
        data:{
            less:$("input[name=less]").val(),
          csrfmiddlewaretoken:$("input[name=csrfmiddlewaretoken]").val()
        },
        success:function(){

        }
      });
	});

/* fin enregistrement lesson */
</script>
</body>

</html>
{% endblock %}